<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.jeecg.modules.demo.nl_employee_assess_management.nl_employee_review.mapper.NlEmployeeReviewMapper">

    <select id="listReviewWithName"
            resultType="org.jeecg.modules.demo.nl_employee_assess_management.nl_employee_review.vo.NlReviewVO">
        select p.id, p.info_id, p.review_result, p.review_type, e.name
        from nl_employee_review as p,
             nl_employee_info as e
        where p.info_id = e.id;
    </select>
    <select id="getEmployeeReviewWithName"
            resultType="org.jeecg.modules.demo.nl_employee_assess_management.nl_employee_review.vo.NlReviewVO">
        select p.id,p.info_id,p.review_result,p.review_type,e.name
        from nl_employee_review as p,
        nl_employee_info as e
        where p.info_id=e.id
        <if test="params.reviewResult!=null and params.reviewResult!='' ">
            and p.review_result=#{params.reviewResult}
        </if>
        <if test="params.name!=null and params.name!=''">
            and e.name=#{params.name}
        </if>
    </select>
</mapper>